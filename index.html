<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Animacja 1 by Mateusz BÄ™benek</title>
</head>

<body>
    <canvas id="myCanvas" width="800" height="600" style="border:2px solid #d3d3d3;">
    </canvas>
</body>

<script>
    var c = document.getElementById("myCanvas");
    var ctx = c.getContext("2d");

    const rectWidth = c.offsetWidth / 8.0;
    const rectHeight = c.offsetWidth / 40.0;
    const rectY = c.offsetHeight - rectHeight - 10;
    var rectX = c.offsetWidth / 2.0 - rectWidth / 2.0;

    rect = ctx.rect(rectX, rectY, rectWidth, rectHeight);
    ctx.stroke();

    document.addEventListener('keydown', function (e) {
        switch (e.keyCode) {
            case 37:
                moveLeft();
                break;
            case 39:
                moveRight();
                break;
        }
    });

    function moveRight() {
        if (rectX < c.getBoundingClientRect().right - rectWidth - 20) {
            ctx.clearRect(0, 0, 800, 600);
            ctx.beginPath();
            rectX += 10;
            ctx.rect(rectX, rectY, rectWidth, rectHeight);
            ctx.stroke();
            ctx.closePath();
        } else {
            return;
        }
    }

    function moveLeft() {
        if (rectX > c.getBoundingClientRect().left) {
            ctx.clearRect(0, 0, 800, 600);
            ctx.beginPath();
            rectX -= 10;
            ctx.rect(rectX, rectY, rectWidth, rectHeight);
            ctx.stroke();
            ctx.closePath();
        } else {
            return;
        }
    }

</script>


</html>